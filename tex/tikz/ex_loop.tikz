\begin{feynman}
    \vertex[label=left:\(p\)] at (-1.5, 0) (in);
    \vertex[label=right:\(p\)] at (1.5, 0) (out);
    \vertex[] at (-0.5, 0) (a);
    \vertex[] at (0.5, 0) (b);

    \diagram*{
    (in) -- [scalar] (a)
    -- [scalar, half right, momentum'=\(q\)] (b)
    -- [scalar, half right, momentum'=\(q-p\)] (a),
    (b) -- [scalar] (out),
    };

\end{feynman}
